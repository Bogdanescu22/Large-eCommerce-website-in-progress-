{"version":3,"file":"static/js/944.d61f850c.chunk.js","mappings":"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","sources":["Components/AdminComponents/AdminHeader.jsx","Components/AdminComponents/ApprovalReviewCards.jsx","Components/AdminComponents/ApprovalReviewsPage.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\n\r\nconst AdminHeader = () => {\r\nreturn (\r\n<div className=\"admin-header-div\">\r\n<button className=\"admin-header-button\">Log in Admin</button>\r\n</div>\r\n)\r\n}\r\n\r\nexport default AdminHeader","import React from \"react\";\r\n\r\n\r\nconst ApprovalReviewsCard = ({userId, productId, description,zoomImageFunction, starsReviews, handleForbidButton1, imageUrl, handleButton, handleStatus}) => {\r\nreturn(\r\n<div className=\"reviewApproval-div\">\r\n  <div className=\"whole-card-without-buttons\">\r\n    <div className=\"cardApprovalReview-div-image-and-details\">\r\n      <div className=\"detailsApprovalReview-div\">\r\n        <h3>User ID: <span>{userId}</span></h3>\r\n        <h3>Product ID: <span>{productId}</span></h3>\r\n        <div>\r\n        {[1, 2, 3, 4, 5].map((star) => (\r\n        <span\r\n        key={`${star}-${productId}`}\r\n        style={{fontSize: \"24px\",color: star <= starsReviews ? \"gold\" : \"grey\"}}\r\n        >★\r\n        </span>))}\r\n        </div>\r\n      </div>\r\n      <div className=\"imageApprovalReview-div\"><img onClick={(img)=>zoomImageFunction(img)} src={imageUrl != null? imageUrl : \"https://olg.cc/wp-content/uploads/2015/01/placehold-800x500.jpg\"}></img></div>\r\n    </div>\r\n    <div>\r\n      <div className=\"descriptionApprovalReview-div\">\r\n        <h2>Descriere</h2>\r\n        <div><p>{description}</p></div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n    <div>\r\n      <div className=\"buttonsApprovalReview-div\">\r\n        <div className=\"approveButton-div\"><button value=\"approve\" onClick={handleButton}>Aproba</button></div>\r\n        <div className=\"rejectButton-div\"><button onClick={handleForbidButton1}>Respinge</button></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n}\r\n\r\nexport default ApprovalReviewsCard","import React, { useEffect, useState } from \"react\";\r\nimport AdminHeader from \"./AdminHeader\";\r\nimport ApprovalReviewsCard from \"../AdminComponents/ApprovalReviewCards\";\r\n\r\nconst ApprovalReviewsPage = () => {\r\n  const [review, setReview] = useState([]);\r\n  const [zoomImage, setZoomImage] = useState(false);\r\n  const [srcImage, setSrcImage] = useState(null);\r\n  const [forbid, setForbid] = useState(false);\r\n  const [forbidReason, setForbidReason] = useState(\"\");\r\n  const [selectedReview, setSelectedReview] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://api.devsite.cfd/admin/reviews_for_approval\", {\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(\"Recenzii:\", data);\r\n        setReview(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Eroare la fetch recenzii:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const handleButton = (event, prop) => {\r\n    if (review.length === 0) {\r\n      alert(\"Nu sunt recenzii de aprobat!\");\r\n      return;\r\n    }\r\n\r\n    fetch(\"https://api.devsite.cfd/admin/send_reviews\", {\r\n      credentials: \"include\",\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user_id: prop.user_id,\r\n        product_id: prop.product_id,\r\n        review_stars: prop.review_stars,\r\n        description: prop.description,\r\n        profile_picture: prop.profile_picture,\r\n        image_url: prop.image_url,\r\n        motiv_respingere: forbidReason,\r\n        status: event.target.value,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(() => {\r\n        // Șterge review din backend și apoi din state\r\n        fetch(`https://api.devsite.cfd/verified_review/${prop.id}`, {\r\n          credentials: \"include\",\r\n          method: \"DELETE\",\r\n        })\r\n          .then((res) => res.json())\r\n          .then(() => {\r\n            setReview((prev) => prev.filter((item) => item.id !== prop.id));\r\n          })\r\n          .catch((err) => console.error(\"Eroare la DELETE:\", err));\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Eroare la trimiterea recenziei:\", error);\r\n      });\r\n  };\r\n\r\n  const zoomImageFunction = (img) => {\r\n    setZoomImage(true);\r\n    setSrcImage(img.target.src);\r\n  };\r\n\r\n  const handleForbidButton1 = (prop) => {\r\n    setForbid(true);\r\n    setSelectedReview(prop);\r\n  };\r\n\r\n  const setForbidReasonFunction = (event) => {\r\n    setForbidReason(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-approval-reviews-page\">\r\n      <AdminHeader />\r\n      <main className=\"admin-approval-reviews-panel-main\">\r\n        <h1>Reviews Approval</h1>\r\n\r\n        <div>\r\n          {review.map((prop) => (\r\n            <ApprovalReviewsCard\r\n              key={prop.id}\r\n              userId={prop.user_id}\r\n              productId={prop.product_id}\r\n              description={prop.description}\r\n              starsReviews={prop.review_stars}\r\n              imageUrl={prop.image_url}\r\n              motiv_respingere={forbidReason}\r\n              handleButton={(e) => handleButton(e, prop)}\r\n              zoomImageFunction={zoomImageFunction}\r\n              handleForbidButton1={() => handleForbidButton1(prop)}\r\n            />\r\n          ))}\r\n        </div>\r\n      </main>\r\n\r\n      {zoomImage && (\r\n        <div className=\"zoom-overlay\">\r\n          <div className=\"close-button-admin-approve-page\">\r\n            <button onClick={() => setZoomImage(false)}>X</button>\r\n          </div>\r\n          <div className=\"zoom-overlay-background\">\r\n            <img src={srcImage} alt=\"Zoomed\" className=\"zoomed-image\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {forbid && selectedReview && (\r\n        <div className=\"forbid-overlay\">\r\n          <div className=\"close-fobid-button-div\">\r\n            <button\r\n              onClick={() => {\r\n                setForbid(false);\r\n                setForbidReason(\"\");\r\n              }}\r\n              className=\"close-fobid-button\"\r\n            >\r\n              X\r\n            </button>\r\n          </div>\r\n          <div className=\"forbid-overlay1\">\r\n            <div className=\"forbid-overlay-form-div\">\r\n              <h2>Motiv respingere</h2>\r\n              <div className=\"forbid-overlay-form\">\r\n                <textarea\r\n                  onChange={setForbidReasonFunction}\r\n                  className=\"forbid-overlay-textarea\"\r\n                  placeholder=\"Scrie motivul respingerii\"\r\n                ></textarea>\r\n              </div>\r\n              <button\r\n                value=\"forbid\"\r\n                onClick={(e) => {\r\n                  handleButton(e, selectedReview);\r\n                  setForbid(false);\r\n                }}\r\n              >\r\n                Trimite\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApprovalReviewsPage;\r\n\r\n"],"names":["AdminHeader","_jsx","className","children","_ref","userId","productId","description","zoomImageFunction","starsReviews","handleForbidButton1","imageUrl","handleButton","handleStatus","_jsxs","map","star","style","fontSize","color","onClick","img","src","value","ApprovalReviewsPage","review","setReview","useState","zoomImage","setZoomImage","srcImage","setSrcImage","forbid","setForbid","forbidReason","setForbidReason","selectedReview","setSelectedReview","useEffect","fetch","credentials","then","res","json","data","console","log","catch","error","event","prop","length","method","headers","body","JSON","stringify","user_id","product_id","review_stars","profile_picture","image_url","motiv_respingere","status","target","id","prev","filter","item","err","alert","ApprovalReviewsCard","e","alt","onChange","placeholder"],"sourceRoot":""}