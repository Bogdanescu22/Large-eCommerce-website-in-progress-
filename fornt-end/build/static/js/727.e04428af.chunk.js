"use strict";(self.webpackChunkfornt_end=self.webpackChunkfornt_end||[]).push([[727],{727:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(43),c=a(276),o=a(334),s=a(873),n=a(579);const i=function(){const[e,t]=(0,r.useState)([]);return(0,r.useEffect)((()=>{fetch("https://api.devsite.cfd/telefoane-cards").then((e=>e.json())).then((e=>{console.log("Datele primite:",e),t(e)})).catch((e=>console.log("Eroare la fetch pt telefoane page",e)))}),[]),(0,n.jsxs)("div",{className:"telefoane-container",children:[(0,n.jsx)(c.A,{}),(0,n.jsxs)("main",{children:[(0,n.jsx)("div",{className:"hero-div-telefoanePage",children:(0,n.jsx)("div",{className:"hero-text-Telefoane",children:(0,n.jsx)("h1",{className:"hero-title-Telefoane",children:"Telefoane"})})}),(0,n.jsx)("div",{className:"product-cards-div",children:0===e.length?(0,n.jsx)("p",{children:"Se \xeencarc\u0103 telefoanele sau nu exist\u0103 produse ..."}):e.map((e=>(0,n.jsx)(s.A,{productId:e.id,imgURL:e.image_url,name:e.name,price:e.price,category:e.category},e.id)))})]}),(0,n.jsx)(o.A,{})]})}},873:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(43),c=a(799),o=a(579);const s=function(e){let{productId:t,imgURL:a,name:s,price:n,category:i}=e;const[d,u]=(0,r.useState)(null),[l,p]=(0,r.useState)([]),h=(0,c.Zp)();return(0,r.useEffect)((()=>{(async()=>{try{const e=await fetch("https://api.devsite.cfd/auth/user",{credentials:"include"});if(!e.ok)throw new Error("Eroare la ob\u021binerea utilizatorului");const t=await e.json();t.user?u(t.user.id):alert("Nu e\u0219ti autentificat")}catch(e){console.error("Eroare:",e)}})()}),[]),(0,o.jsxs)("div",{className:"phone-card",children:[(0,o.jsx)("img",{className:"phone-card-image",src:a,alt:s,onClick:()=>h(`/products/${s}`),style:{cursor:"pointer"}}),(0,o.jsx)("h2",{className:"phone-card-title",onClick:()=>h(`/${i}/${s}`),style:{cursor:"pointer"},children:s}),(0,o.jsxs)("h3",{className:"phone-card-price",children:["$",n]}),(0,o.jsx)("button",{className:"phone-card-button",onClick:async()=>{if(!d)return void alert("Trebuie s\u0103 fii autentificat pentru a ad\u0103uga produse \xeen co\u0219.");const e={product_name:s,product_price:n,product_id:t,product_img:a,quantity:1};try{const t=await fetch("https://api.devsite.cfd/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:d,product_id:e.product_id,product_name:e.product_name,product_price:e.product_price,product_img:e.product_img,quantity:e.quantity})});if(!t.ok)throw new Error("Eroare la ad\u0103ugarea produsului \xeen co\u0219");const a=await t.json();p((e=>[...e,a.product])),alert("Produsul a fost ad\u0103ugat \xeen co\u0219!")}catch(r){console.error("Eroare la ad\u0103ugarea produsului:",r),alert("Eroare la ad\u0103ugarea produsului \xeen co\u0219")}},children:"Adaug\u0103 \xeen co\u0219"})]})}}}]);
//# sourceMappingURL=727.e04428af.chunk.js.map